<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="hd_workflow.TodoMenuView" owl="1">
        <div class="o_TodoMenuView dropdown" t-ref="root">
            <a class="o_TodoMenuView_dropdownToggle dropdown-toggle o-no-caret o-dropdown--narrow" t-att-aria-expanded="todoMenuView.isOpen ? 'true' : 'false'" title="Todoes" href="#" role="button" t-on-click="todoMenuView.onClickDropdownToggle">
                <i class="fa fa-lg fa-bell-o" role="img" aria-label="Todoes"/> <span t-if="todoMenuView.counter > 0" class="o_TodoMenuView_counter badge" t-esc="todoMenuView.counter"/>
            </a>
            <div t-if="todoMenuView.isOpen" class="o_TodoMenuView_dropdownMenu o-dropdown-menu dropdown-menu-end show bg-view" role="menu">
                <div class="o_TodoMenuView_todoGroups">
                    <t t-if="todoMenuView.todoGroupViews.length === 0">
                        <div class="o_TodoMenuView_noTodo dropdown-item-text text-center d-flex justify-content-center">
                            <span>Congratulations, you're done with your todoes.</span>
                        </div>
                    </t>
                    <t t-foreach="todoMenuView.todoGroupViews" t-as="todoGroupView" t-key="todoGroupView.localId" name="todoGroupLoop">
                        <div class="o_TodoMenuView_todoGroup" t-att-data-res_model="todoGroupView.todoGroup.irModel.model" t-att-data-model_name="todoGroupView.todoGroup.irModel.name" t-att-data-domain="todoGroupView.todoGroup.domain" data-filter='my' t-att-data-todo-group-view-local-id="todoGroupView.localId" t-on-click="todoGroupView.onClickFilterButton">
                            <div t-if="todoGroupView.todoGroup.irModel.iconUrl" class="o_TodoMenuView_todoGroupIconContainer">
                                <img t-att-src="todoGroupView.todoGroup.irModel.iconUrl" alt="Todo"/>
                            </div>
                            <div class="o_TodoMenuView_todoGroupInfo">
                                <div class="o_TodoMenuView_todoGroupTitle">
                                    <span class="o_TodoMenuView_todoGroupName">
                                        <t t-esc="todoGroupView.todoGroup.irModel.name"/>
                                    </span>
                                    <div t-if="todoGroupView.todoGroup.actions" class="o_TodoMenuView_todoGroupActionButtons">
                                        <t t-foreach="todoGroupView.todoGroup.actions" t-as="action" t-key="action.name">
                                            <button type="button"
                                                t-att-title="action.name"
                                                t-att-class="'o_TodoMenuView_todoGroupActionButton btn btn-link fa ' + action.icon"
                                                t-att-data-action_xmlid="action.action_xmlid"
                                                t-att-data-res_model="todoGroupView.todoGroup.irModel.model"
                                                t-att-data-model_name="todoGroupView.todoGroup.irModel.name"
                                                t-att-data-domain="todoGroupView.todoGroup.domain"
                                                t-on-click="todoGroupView.onClick"
                                            >
                                            </button>
                                        </t>
                                    </div>
                                </div>
                                <div t-if="todoGroupView.todoGroup.type == 'todo'">
                                    <button t-if="todoGroupView.todoGroup.todo_count" type="button" class="o_TodoMenuView_todoGroupFilterButton btn btn-link mr16" t-att-data-res_model="todoGroupView.todoGroup.irModel.model" t-att-data-model_name="todoGroupView.todoGroup.irModel.name" data-filter='overdue'><t t-esc="todoGroupView.todoGroup.todo_count"/> Todo </button>
                                    <span t-if="!todoGroupView.todoGroup.todo_count" class="o_TodoMenuView_todoGroupNoCount mr16 text-muted">0 Todo </span>
                                </div>
                            </div>
                        </div>
                    </t>
                </div>
            </div>
        </div>
    </t>

</templates>
